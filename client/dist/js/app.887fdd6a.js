(function(e){function t(t){for(var o,r,c=t[0],i=t[1],l=t[2],s=0,f=[];s<c.length;s++)r=c[s],Object.prototype.hasOwnProperty.call(u,r)&&u[r]&&f.push(u[r][0]),u[r]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);d&&d(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,r=1;r<n.length;r++){var c=n[r];0!==u[c]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},u={app:0},a=[];function c(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"8e531e55"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={about:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var o="css/"+({about:"about"}[e]||e)+"."+{about:"fb7f9fb4"}[e]+".css",u=i.p+o,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var l=a[c],s=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(s===o||s===u))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){l=f[c],s=l.getAttribute("data-href");if(s===o||s===u)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||u,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete r[e],d.parentNode.removeChild(d),n(a)},d.href=u;var b=document.getElementsByTagName("head")[0];b.appendChild(d)})).then((function(){r[e]=0})));var o=u[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,n){o=u[e]=[t,n]}));t.push(o[2]=a);var l,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=c(e);var f=new Error;l=function(t){s.onerror=s.onload=null,clearTimeout(d);var n=u[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",f.name="ChunkLoadError",f.type=o,f.request=r,n[1](f)}u[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:s})}),12e4);s.onerror=s.onload=l,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var f=0;f<l.length;f++)t(l[f]);var d=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2b52":function(e,t,n){"use strict";n("5a06")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),r=(n("1344"),{id:"nav"}),u=Object(o["f"])("Home"),a=Object(o["f"])(" | "),c=Object(o["f"])("About"),i=Object(o["f"])(" | "),l=Object(o["f"])("Login"),s=Object(o["f"])(" | "),f=Object(o["f"])("Login2"),d=Object(o["f"])(" | ");function b(e,t,n,b,p,g){var h=Object(o["w"])("router-link"),m=Object(o["w"])("router-view");return Object(o["p"])(),Object(o["d"])("div",r,[Object(o["g"])(h,{to:"/home"},{default:Object(o["D"])((function(){return[u]})),_:1}),a,Object(o["g"])(h,{to:"/about"},{default:Object(o["D"])((function(){return[c]})),_:1}),i,Object(o["g"])(h,{to:"/login"},{default:Object(o["D"])((function(){return[l]})),_:1}),s,Object(o["g"])(h,{to:"/login2"},{default:Object(o["D"])((function(){return[f]})),_:1}),d,Object(o["e"])("button",{type:"submit",onClick:t[0]||(t[0]=Object(o["F"])((function(){return g.logout&&g.logout.apply(g,arguments)}),["prevent"]))},"Logout"),Object(o["g"])(m)])}var p=n("bc3a"),g=n.n(p),h={data:function(){return{modalOpen:!0}},methods:{logout:function(){var e=this;console.log("logout_function"),g()({url:"http://localhost:5000/api/logout",method:"GET",withCredentials:!0}).then((function(t){console.log("resp/login: ",t.data),console.log("resp/login_token: ",t.data.token),console.log("resp/login_user_name: ",t.data.user_name),(null===t.data.token||""===t.data.user_name||""===t.data.token||null===t.data.user_name||t.data.error)&&e.$router.push("/login2")})).catch((function(e){console.log("err: ",e)}))}}},m=(n("f4aa"),n("6b0d")),v=n.n(m);const O=v()(h,[["render",b]]);var j=O,y=(n("d3b7"),n("3ca3"),n("ddb0"),n("caad"),n("6c02")),_=(n("bb51"),[{path:"/home",name:"Home",component:function(){return n.e("about").then(n.bind(null,"bb51"))}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/login",name:"Login",component:function(){return n.e("about").then(n.bind(null,"a55b"))}},{path:"/login2",name:"Login2",component:function(){return n.e("about").then(n.bind(null,"a55b"))}},{path:"/logout",name:"Logout",component:function(){return n.e("about").then(n.bind(null,"c100"))}},{path:"/register",name:"Register",component:function(){return n.e("about").then(n.bind(null,"73cf"))}},{path:"/login2",name:"Login2",component:function(){return n.e("about").then(n.bind(null,"88dc"))}},{path:"/profile",name:"Profile",component:function(){return n.e("about").then(n.bind(null,"c66d"))},meta:{authRequired:!0}},{path:"/debounce0",name:"Debounce0",component:function(){return n.e("about").then(n.bind(null,"84a9"))}},{path:"/debounce1",name:"Debounce1",component:function(){return n.e("about").then(n.bind(null,"1313"))}},{path:"/debounce2",name:"Debounce2",component:function(){return n.e("about").then(n.bind(null,"c9f6"))}}]),k=Object(y["a"])({history:Object(y["b"])("/"),routes:_});k.beforeEach((function(e,t,n){var o=["/login","/register","/home","/about","/profile","/login2"],r=!o.includes(e.path),u=localStorage.getItem("user");r&&!u?n("/login2"):n()}));var w=k,S=n("5502"),P=n("4328"),L=n.n(P),T=Object(S["a"])({state:{status:null},mutations:{auth_request:function(e){e.status="loading"},auth_success:function(e,t,n){e.status="success",e.token=t,e.user=n},auth_error:function(e){e.status="error"},logout:function(e){e.status="",e.token=""}},actions:{login:function(e,t){var n=e.commit;return new Promise((function(e,o){n("auth_request"),console.log("user/dispatch-login: ",L.a.stringify(t)),setTimeout((function(){console.log("pause...!")}),3e3),g()({url:"http://localhost:5000/api/login",data:L.a.stringify(t),method:"POST"}).then((function(t){console.log("response/login: ",t);var o=t.data.token,r=t.data.user_name;localStorage.setItem("token",o),g.a.defaults.headers.common["Authorization"]=o,n("auth_success",o,r),e(t)})).catch((function(e){n("auth_error"),localStorage.removeItem("token"),o(e)}))}))},login_old:function(e,t){var n=e.commit;return new Promise((function(e,o){n("auth_request"),console.log("user/dispatch-login: ",L.a.stringify(t)),setTimeout((function(){console.log("pause...!")}),3e3),g()({url:"http://localhost:5031/users/login",data:L.a.stringify(t),method:"POST"}).then((function(t){console.log("response/login: ",t);var o=t.data.token,r=t.data.user;localStorage.setItem("token",o),g.a.defaults.headers.common["Authorization"]=o,n("auth_success",o,r),e(t)})).catch((function(e){n("auth_error"),localStorage.removeItem("token"),o(e)}))}))}},modules:{}});Object(o["c"])(j).use(T).use(w).mount("#app")},"5a06":function(e,t,n){},bb51:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r=n("cf05"),u=n.n(r),a={class:"home"},c=Object(o["e"])("img",{alt:"Vue logo",src:u.a},null,-1);function i(e,t,n,r,u,i){var l=Object(o["w"])("HelloWorld");return Object(o["p"])(),Object(o["d"])("div",a,[c,Object(o["g"])(l,{msg:"Welcome to Vue 3 App"})])}var l={class:"hello"};function s(e,t,n,r,u,a){return Object(o["p"])(),Object(o["d"])("div",l,[Object(o["e"])("h1",null,Object(o["y"])(n.msg),1)])}var f={name:"Hi Vue 3",props:{msg:String}},d=(n("2b52"),n("6b0d")),b=n.n(d);const p=b()(f,[["render",s],["__scopeId","data-v-5703ea08"]]);var g=p,h={name:"Home",components:{HelloWorld:g}};const m=b()(h,[["render",i]]);t["default"]=m},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},f4aa:function(e,t,n){"use strict";n("fe43")},fe43:function(e,t,n){}});
//# sourceMappingURL=app.887fdd6a.js.map